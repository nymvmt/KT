<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메이플스토리 플레이어 관리</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-users"></i> 메이플스토리 플레이어 관리 시스템</h1>
            <p>플레이어와 인벤토리를 체계적으로 관리하세요</p>
        </div>

        <div class="nav-links">
            <a href="/"><i class="fas fa-store"></i> 무기상점</a>
            <a href="/player.html" class="active"><i class="fas fa-user"></i> 플레이어 관리</a>
        </div>

        <div class="player-grid" id="playerGrid">
            <!-- 플레이어 카드들이 여기에 동적으로 생성됩니다 -->
        </div>

        <div class="inventory-section">
            <div class="inventory-header">
                <h3 class="inventory-title"><i class="fas fa-backpack"></i> 인벤토리 관리</h3>
                <div class="inventory-info">
                    <span id="selectedPlayerInfo">플레이어를 선택하세요</span>
                </div>
            </div>

            <div class="inventory-grid" id="inventoryGrid">
                <!-- 인벤토리 슬롯들이 여기에 동적으로 생성됩니다 -->
            </div>

            <div class="controls">
                <div class="control-group">
                    <div class="control-title"><i class="fas fa-user-plus"></i> 플레이어 생성</div>
                    <div class="form-group">
                        <label for="newPlayerName"><i class="fas fa-tag"></i> 이름:</label>
                        <input type="text" id="newPlayerName" placeholder="플레이어 이름" required>
                    </div>
                    <div class="form-group">
                        <label for="newPlayerJob"><i class="fas fa-briefcase"></i> 직업:</label>
                        <select id="newPlayerJob" required>
                            <option value="">직업 선택</option>
                            <option value="전사">⚔️ 전사</option>
                            <option value="궁수">🏹 궁수</option>
                            <option value="마법사">🔮 마법사</option>
                        </select>
                    </div>
                    <button class="btn btn-success" onclick="createPlayer()" id="createPlayerBtn">
                        <i class="fas fa-plus"></i> 플레이어 생성
                    </button>
                </div>

                <div class="control-group">
                    <div class="control-title"><i class="fas fa-cogs"></i> 플레이어 관리</div>
                    <div class="form-group">
                        <label for="playerId"><i class="fas fa-id-card"></i> 플레이어 ID:</label>
                        <input type="number" id="playerId" placeholder="플레이어 ID" min="1">
                    </div>
                    <div class="action-buttons">
                        <button class="btn" onclick="getPlayer()" title="플레이어 정보 조회">
                            <i class="fas fa-search"></i> 조회
                        </button>
                        <button class="btn btn-secondary" onclick="gainExp()" title="경험치 50 획득">
                            <i class="fas fa-star"></i> 경험치 획득
                        </button>
                        <button class="btn btn-secondary" onclick="gainMeso()" title="메소 1000 획득">
                            <i class="fas fa-coins"></i> 메소 획득
                        </button>
                        <button class="btn btn-danger" onclick="deletePlayer()" title="플레이어 삭제">
                            <i class="fas fa-trash"></i> 삭제
                        </button>
                    </div>
                </div>
            </div>

            <div id="message"></div>
            <div id="itemDetails" class="item-details" style="display: none;">
                <!-- 아이템 상세 정보가 여기에 표시됩니다 -->
            </div>
        </div>
    </div>

    <script>
        let currentPlayer = null;
        let players = [];

        // 페이지 로드 시 실행
        document.addEventListener('DOMContentLoaded', function() {
            loadPlayers();
            setupFormValidation();
        });

        // 폼 유효성 검사 설정
        function setupFormValidation() {
            const nameInput = document.getElementById('newPlayerName');
            const jobSelect = document.getElementById('newPlayerJob');
            const createBtn = document.getElementById('createPlayerBtn');

            function validateCreateForm() {
                const isValid = nameInput.value.trim() && jobSelect.value;
                createBtn.disabled = !isValid;
            }

            nameInput.addEventListener('input', validateCreateForm);
            jobSelect.addEventListener('change', validateCreateForm);
        }

        // 플레이어 목록 로드
        async function loadPlayers() {
            try {
                showLoadingMessage('플레이어 목록을 불러오는 중...');
                const response = await fetch('/api/player');
                if (!response.ok) throw new Error('서버 오류');
                
                players = await response.json();
                displayPlayers();
                hideMessage();
            } catch (error) {
                showMessage('플레이어 목록을 불러오는데 실패했습니다.', 'error');
            }
        }

        // 플레이어 목록 표시
        function displayPlayers() {
            const playerGrid = document.getElementById('playerGrid');
            playerGrid.innerHTML = '';

            if (players.length === 0) {
                playerGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--maple-light);">
                        <i class="fas fa-users" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                        <h3>플레이어가 없습니다</h3>
                        <p>새로운 플레이어를 생성해보세요!</p>
                    </div>
                `;
                return;
            }

            players.forEach(player => {
                const playerCard = createPlayerCard(player);
                playerGrid.appendChild(playerCard);
            });
        }

        // 플레이어 카드 생성
        function createPlayerCard(player) {
            const card = document.createElement('div');
            card.className = 'player-card';
            card.onclick = () => selectPlayer(player);

            const expPercentage = (player.exp / player.maxExp) * 100;
            const jobIcon = getJobIcon(player.job);
            const levelColor = getLevelColor(player.level);

            card.innerHTML = `
                <div class="player-info">
                    <div class="player-name">${jobIcon} ${player.name}</div>
                    <div class="player-job ${levelColor}">${player.job} Lv.${player.level}</div>
                    <div class="exp-bar">
                        <div class="exp-fill" style="width: ${expPercentage}%"></div>
                        <span class="exp-text">${player.exp}/${player.maxExp}</span>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">HP</div>
                        <div class="stat-value">${player.hp}/${player.maxHp}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">MP</div>
                        <div class="stat-value">${player.mp}/${player.maxMp}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">힘</div>
                        <div class="stat-value">${player.strength}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">민첩</div>
                        <div class="stat-value">${player.dexterity}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">지능</div>
                        <div class="stat-value">${player.intelligence}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">행운</div>
                        <div class="stat-value">${player.luck}</div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 15px;">
                    <div style="font-size: 18px; font-weight: bold; color: var(--maple-yellow);">
                        <i class="fas fa-coins"></i> ${player.meso.toLocaleString()} 메소
                    </div>
                </div>
                <div class="player-actions">
                    <button class="btn btn-sm" onclick="event.stopPropagation(); selectPlayer(${player.id})" title="선택">
                        <i class="fas fa-check"></i>
                    </button>
                    <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation(); gainExpForPlayer(${player.id})" title="경험치 획득">
                        <i class="fas fa-star"></i>
                    </button>
                    <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation(); gainMesoForPlayer(${player.id})" title="메소 획득">
                        <i class="fas fa-coins"></i>
                    </button>
                </div>
            `;

            return card;
        }

        // 직업 아이콘 반환
        function getJobIcon(job) {
            const icons = {
                '전사': '⚔️',
                '궁수': '🏹',
                '마법사': '🔮'
            };
            return icons[job] || '👤';
        }

        // 레벨별 색상 반환
        function getLevelColor(level) {
            if (level >= 100) return 'legendary';
            if (level >= 50) return 'epic';
            if (level >= 20) return 'rare';
            return 'common';
        }

        // 플레이어 선택
        function selectPlayer(player) {
            if (typeof player === 'number') {
                // ID로 플레이어 찾기
                player = players.find(p => p.id === player);
                if (!player) return;
            }

            currentPlayer = player;
            document.getElementById('selectedPlayerInfo').innerHTML = `
                <i class="fas fa-user"></i> ${player.name} (${player.job} Lv.${player.level})
            `;
            document.getElementById('playerId').value = player.id;
            displayInventory(player.inventory);
            
            showMessage(`${player.name} 플레이어를 선택했습니다.`, 'success');
        }

        // 인벤토리 표시
        function displayInventory(inventory) {
            const inventoryGrid = document.getElementById('inventoryGrid');
            inventoryGrid.innerHTML = '';

            for (let i = 0; i < inventory.maxSize; i++) {
                const slot = document.createElement('div');
                slot.className = 'inventory-slot';
                slot.onclick = () => showItemDetails(i, inventory);

                if (i < inventory.slots.length && inventory.slots[i].item) {
                    slot.classList.add('filled');
                    const item = inventory.slots[i].item;
                    const itemIcon = getItemIcon(item.itemType);
                    
                    slot.innerHTML = `
                        <div class="item-icon">${itemIcon}</div>
                        <div class="item-name">${item.name.substring(0, 4)}</div>
                        <div class="item-quantity">${inventory.slots[i].quantity}</div>
                    `;
                    
                    // 아이템 희귀도에 따른 테두리 색상
                    const rarityClass = getRarityClass(item.attackPower);
                    slot.classList.add(rarityClass);
                } else {
                    slot.innerHTML = `<i class="fas fa-plus" style="opacity: 0.3;"></i>`;
                }

                inventoryGrid.appendChild(slot);
            }
        }

        // 아이템 상세 정보 표시
        function showItemDetails(slotIndex, inventory) {
            if (slotIndex >= inventory.slots.length || !inventory.slots[slotIndex].item) {
                return;
            }

            const slot = inventory.slots[slotIndex];
            const item = slot.item;
            const itemDetails = document.getElementById('itemDetails');

            itemDetails.innerHTML = `
                <h4><i class="fas fa-info-circle"></i> ${item.name}</h4>
                <p><strong>설명:</strong> ${item.description}</p>
                <div class="item-stats">
                    <div class="item-stat">
                        <div style="font-size: 12px; color: #666;">타입</div>
                        <div style="font-weight: bold;">${getItemIcon(item.itemType)} ${item.itemType}</div>
                    </div>
                    <div class="item-stat">
                        <div style="font-size: 12px; color: #666;">공격력</div>
                        <div style="font-weight: bold;">${item.attackPower}</div>
                    </div>
                    <div class="item-stat">
                        <div style="font-size: 12px; color: #666;">요구레벨</div>
                        <div style="font-weight: bold;">${item.requiredLevel}</div>
                    </div>
                    <div class="item-stat">
                        <div style="font-size: 12px; color: #666;">가격</div>
                        <div style="font-weight: bold;">${item.price.toLocaleString()} 메소</div>
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-danger" onclick="useItem(${slotIndex})" title="아이템 사용">
                        <i class="fas fa-hand-holding"></i> 사용
                    </button>
                    <button class="btn btn-secondary" onclick="removeItem(${slotIndex})" title="아이템 제거">
                        <i class="fas fa-minus"></i> 제거
                    </button>
                </div>
            `;

            itemDetails.style.display = 'block';
        }

        // 아이템 아이콘 반환
        function getItemIcon(itemType) {
            const icons = {
                '한손검': '⚔️',
                '활': '🏹',
                '지팡이': '🔮',
                '소비아이템': '🧪'
            };
            return icons[itemType] || '📦';
        }

        // 희귀도 클래스 반환
        function getRarityClass(attackPower) {
            if (attackPower >= 100) return 'legendary';
            if (attackPower >= 50) return 'epic';
            if (attackPower >= 20) return 'rare';
            return 'common';
        }

        // 플레이어 생성
        async function createPlayer() {
            const name = document.getElementById('newPlayerName').value.trim();
            const job = document.getElementById('newPlayerJob').value;

            if (!name) {
                showMessage('플레이어 이름을 입력하세요.', 'error');
                return;
            }
            if (!job) {
                showMessage('직업을 선택하세요.', 'error');
                return;
            }

            try {
                showLoadingMessage('플레이어를 생성하는 중...');
                const response = await fetch('/api/player', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, job })
                });

                if (response.ok) {
                    showMessage(`${name} 플레이어가 생성되었습니다!`, 'success');
                    document.getElementById('newPlayerName').value = '';
                    document.getElementById('newPlayerJob').value = '';
                    loadPlayers();
                } else {
                    const errorData = await response.json();
                    showMessage(`플레이어 생성 실패: ${errorData.message || '알 수 없는 오류'}`, 'error');
                }
            } catch (error) {
                showMessage('플레이어 생성 중 오류가 발생했습니다.', 'error');
            }
        }

        // 플레이어 조회
        async function getPlayer() {
            const playerId = document.getElementById('playerId').value;
            if (!playerId) {
                showMessage('플레이어 ID를 입력하세요.', 'error');
                return;
            }

            try {
                showLoadingMessage('플레이어 정보를 불러오는 중...');
                const response = await fetch(`/api/player/${playerId}`);
                if (response.ok) {
                    const player = await response.json();
                    selectPlayer(player);
                    showMessage('플레이어 정보를 불러왔습니다.', 'success');
                } else {
                    showMessage('플레이어를 찾을 수 없습니다.', 'error');
                }
            } catch (error) {
                showMessage('플레이어 조회 중 오류가 발생했습니다.', 'error');
            }
        }

        // 경험치 획득
        async function gainExp() {
            const playerId = document.getElementById('playerId').value;
            if (!playerId) {
                showMessage('플레이어 ID를 입력하세요.', 'error');
                return;
            }

            await gainExpForPlayer(playerId);
        }

        // 특정 플레이어 경험치 획득
        async function gainExpForPlayer(playerId) {
            try {
                showLoadingMessage('경험치를 획득하는 중...');
                const response = await fetch(`/api/player/${playerId}/exp?expAmount=50`, {
                    method: 'POST'
                });

                if (response.ok) {
                    showMessage('경험치를 획득했습니다! (+50)', 'success');
                    loadPlayers();
                    if (currentPlayer && currentPlayer.id == playerId) {
                        getPlayer();
                    }
                } else {
                    showMessage('경험치 획득에 실패했습니다.', 'error');
                }
            } catch (error) {
                showMessage('경험치 획득 중 오류가 발생했습니다.', 'error');
            }
        }

        // 메소 획득
        async function gainMeso() {
            const playerId = document.getElementById('playerId').value;
            if (!playerId) {
                showMessage('플레이어 ID를 입력하세요.', 'error');
                return;
            }

            await gainMesoForPlayer(playerId);
        }

        // 특정 플레이어 메소 획득
        async function gainMesoForPlayer(playerId) {
            try {
                showLoadingMessage('메소를 획득하는 중...');
                const response = await fetch(`/api/player/${playerId}/meso?amount=1000`, {
                    method: 'POST'
                });

                if (response.ok) {
                    showMessage('메소를 획득했습니다! (+1,000)', 'success');
                    loadPlayers();
                    if (currentPlayer && currentPlayer.id == playerId) {
                        getPlayer();
                    }
                } else {
                    showMessage('메소 획득에 실패했습니다.', 'error');
                }
            } catch (error) {
                showMessage('메소 획득 중 오류가 발생했습니다.', 'error');
            }
        }

        // 플레이어 삭제
        async function deletePlayer() {
            const playerId = document.getElementById('playerId').value;
            if (!playerId) {
                showMessage('플레이어 ID를 입력하세요.', 'error');
                return;
            }

            const player = players.find(p => p.id == playerId);
            if (!player) {
                showMessage('플레이어를 찾을 수 없습니다.', 'error');
                return;
            }

            if (!confirm(`정말로 "${player.name}" 플레이어를 삭제하시겠습니까?\n\n이 작업은 되돌릴 수 없습니다.`)) {
                return;
            }

            try {
                showLoadingMessage('플레이어를 삭제하는 중...');
                const response = await fetch(`/api/player/${playerId}`, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    showMessage(`"${player.name}" 플레이어가 삭제되었습니다.`, 'success');
                    document.getElementById('playerId').value = '';
                    currentPlayer = null;
                    document.getElementById('selectedPlayerInfo').innerHTML = '플레이어를 선택하세요';
                    document.getElementById('inventoryGrid').innerHTML = '';
                    document.getElementById('itemDetails').style.display = 'none';
                    loadPlayers();
                } else {
                    showMessage('플레이어 삭제에 실패했습니다.', 'error');
                }
            } catch (error) {
                showMessage('플레이어 삭제 중 오류가 발생했습니다.', 'error');
            }
        }

        // 아이템 사용
        async function useItem(slotIndex) {
            if (!currentPlayer) {
                showMessage('플레이어를 먼저 선택하세요.', 'error');
                return;
            }

            try {
                showLoadingMessage('아이템을 사용하는 중...');
                const response = await fetch(`/api/player/${currentPlayer.id}/inventory/use/${slotIndex}`, {
                    method: 'POST'
                });

                if (response.ok) {
                    showMessage('아이템을 사용했습니다!', 'success');
                    getPlayer();
                } else {
                    showMessage('아이템 사용에 실패했습니다.', 'error');
                }
            } catch (error) {
                showMessage('아이템 사용 중 오류가 발생했습니다.', 'error');
            }
        }

        // 아이템 제거
        async function removeItem(slotIndex) {
            if (!currentPlayer) {
                showMessage('플레이어를 먼저 선택하세요.', 'error');
                return;
            }

            try {
                showLoadingMessage('아이템을 제거하는 중...');
                const response = await fetch(`/api/player/${currentPlayer.id}/inventory/items/${slotIndex}?quantity=1`, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    showMessage('아이템을 제거했습니다!', 'success');
                    getPlayer();
                } else {
                    showMessage('아이템 제거에 실패했습니다.', 'error');
                }
            } catch (error) {
                showMessage('아이템 제거 중 오류가 발생했습니다.', 'error');
            }
        }

        // 로딩 메시지 표시
        function showLoadingMessage(message) {
            const messageDiv = document.getElementById('message');
            messageDiv.className = 'message';
            messageDiv.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${message}`;
            messageDiv.style.display = 'block';
        }

        // 메시지 표시
        function showMessage(message, type) {
            const messageDiv = document.getElementById('message');
            messageDiv.className = `message ${type}`;
            messageDiv.innerHTML = message;
            messageDiv.style.display = 'block';

            setTimeout(() => {
                messageDiv.style.display = 'none';
            }, 5000);
        }

        // 메시지 숨기기
        function hideMessage() {
            const messageDiv = document.getElementById('message');
            messageDiv.style.display = 'none';
        }
    </script>

    <style>
        /* 플레이어 관리 전용 스타일 */
        .player-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .player-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .player-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--maple-orange), var(--maple-gold), var(--maple-green));
        }

        .player-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--maple-blue);
        }

        .player-info {
            margin-bottom: 20px;
            text-align: center;
        }

        .player-name {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--maple-yellow);
        }

        .player-job {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .player-job.legendary { color: #ff6b35; }
        .player-job.epic { color: #9b59b6; }
        .player-job.rare { color: #3498db; }
        .player-job.common { color: #95a5a6; }

        .exp-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 25px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
        }

        .exp-fill {
            background: linear-gradient(90deg, var(--maple-yellow), var(--maple-orange));
            height: 100%;
            transition: width 0.3s ease;
        }

        .exp-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 15px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
            display: block;
        }

        .stat-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--maple-yellow);
        }

        .player-actions {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 15px;
        }

        .btn-sm {
            padding: 8px 12px;
            font-size: 0.9rem;
        }

        .inventory-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .inventory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .inventory-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--maple-blue);
        }

        .inventory-info {
            color: var(--maple-light);
            font-size: 1rem;
            font-weight: 600;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 8px;
            margin-bottom: 25px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .inventory-slot {
            width: 55px;
            height: 55px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            font-size: 0.8rem;
        }

        .inventory-slot:hover {
            border-color: var(--maple-blue);
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.1);
        }

        .inventory-slot.filled {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-color: var(--maple-blue);
        }

        .inventory-slot.legendary { border-color: #ff6b35; }
        .inventory-slot.epic { border-color: #9b59b6; }
        .inventory-slot.rare { border-color: #3498db; }
        .inventory-slot.common { border-color: #95a5a6; }

        .item-icon {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }

        .item-name {
            font-size: 0.7rem;
            text-align: center;
            line-height: 1;
            margin-bottom: 2px;
        }

        .item-quantity {
            position: absolute;
            bottom: 2px;
            right: 2px;
            font-size: 0.7rem;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 1px 3px;
            border-radius: 3px;
            font-weight: 600;
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .control-group {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .control-title {
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--maple-yellow);
            font-size: 1.1rem;
            text-align: center;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .item-details {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .item-details h4 {
            margin-top: 0;
            color: var(--maple-yellow);
            font-size: 1.3rem;
            margin-bottom: 15px;
        }

        .item-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .item-stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .player-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .inventory-grid {
                grid-template-columns: repeat(8, 1fr);
            }
            
            .inventory-slot {
                width: 45px;
                height: 45px;
            }
        }
    </style>
</body>
</html>
